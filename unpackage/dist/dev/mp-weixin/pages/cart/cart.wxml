<view class="cart"><block wx:if="{{$root.g0===0}}"><view class="empty"><text class="{{['iconfont','icongouwuche','text-'+themeColor.name]}}"></text><block wx:if="{{hasLogin}}"><view class="empty-tips">空空如也<block wx:if="{{hasLogin}}"><navigator class="{{['navigator','text-'+themeColor.name]}}" url="../category/category" open-type="switchTab">随便逛逛></navigator></block></view></block><block wx:else><view class="empty-tips">空空如也<view data-event-opts="{{[['tap',[['navTo',['/pages/public/logintype']]]]]}}" class="{{['navigator','text-'+themeColor.name]}}" bindtap="__e">登录/注册 ></view></view></block></view></block><block wx:else><view class="goods-list"><view data-event-opts="{{[['tap',[['clearCart',[['o',['lose_status',1]]]]]]]}}" class="{{['btn-clear','text-'+themeColor.name]}}" bindtap="__e">清空失效商品</view><block wx:for="{{$root.l0}}" wx:for-item="row" wx:for-index="index" wx:key="index"><view class="rf-cart-row"><view data-event-opts="{{[['tap',[['deleteCartItem',['$0','one'],[[['cartList','',index,'sku_id']]]]]]]}}" class="{{['menu','bg-'+themeColor.name]}}" catchtap="__e"><text class="iconfont icon iconiconfontshanchu1"></text></view><view data-event-opts="{{[['touchstart',[['touchStart',[index,'$event']]]],['touchmove',[['touchMove',[index,'$event']]]],['touchend',[['touchEnd',[index,'$event']]]]]}}" class="{{['carrier',theIndex===index?'open':oldIndex===index?'close':'']}}" bindtouchstart="__e" bindtouchmove="__e" bindtouchend="__e"><view data-event-opts="{{[['tap',[['selected',[index,'$0'],[[['cartList','',index]]]]]]]}}" class="checkbox-box" bindtap="__e"><view class="{{['checkbox',row.m0===0?'checkbox-disabled '+('text-'+themeColor.name):'text-'+themeColor.name]}}"><view class="{{[row.$orig.selected?'on '+('bg-'+themeColor.name):'']}}"></view></view></view><view class="goods-info"><view class="img"><image src="{{row.$orig.product_img}}"></image></view><view class="info"><view data-event-opts="{{[['tap',[['navTo',['/pages/product/product?id='+row.$orig.product.id]]]]]}}" class="title in2line" bindtap="__e">{{''+row.$orig.product_name+''}}</view><view class="state-wrapper"><view data-event-opts="{{[['tap',[['toggleSpec',['$0'],[[['cartList','',index]]]]]]]}}" class="spec" catchtap="__e">{{row.$orig.sku_name||singleSkuText}}</view><block wx:if="{{row.m1===0}}"><view class="state">已失效</view></block></view><view class="price-number"><block wx:if="{{row.m2===1}}"><view class="price">{{moneySymbol+(row.$orig.sku&&row.$orig.sku.price)}}</view></block><block wx:else><view class="remark">{{row.$orig.remark}}</view></block><block wx:if="{{row.m3===1}}"><view class="number"><view data-event-opts="{{[['tap',[['sub',['$0',index],[[['cartList','',index]]]]]]]}}" class="sub" catchtap="__e"><text class="iconfont icon icon-jianhao"></text></view><view data-event-opts="{{[['tap',[['discard',['$event']]]]]}}" class="input" catchtap="__e"><input class="{{['text-'+themeColor.name]}}" type="number" data-event-opts="{{[['input',[['__set_model',['$0','number','$event',[]],[[['cartList','',index]]]],['numberChange',['$0','$event',index],[[['cartList','',index]]]]]]]}}" value="{{row.$orig.number}}" catchinput="__e"/></view><view data-event-opts="{{[['tap',[['add',['$0',index],[[['cartList','',index]]]]]]]}}" class="add" catchtap="__e"><text class="iconfont icon iconjia1"></text></view></view></block></view></view></view></view></view></block></view></block><block wx:if="{{$root.g1!==0}}"><view class="footer" style="{{'bottom:'+(footerbottom)+';'}}"><view data-event-opts="{{[['tap',[['allSelect',['$event']]]]]}}" class="checkbox-box" bindtap="__e"><view class="{{['checkbox','text-'+themeColor.name]}}"><view class="{{[isAllselected?'on '+('bg-'+themeColor.name):'']}}"></view></view><view class="text">全选</view></view><block wx:if="{{$root.g2>0}}"><view data-event-opts="{{[['tap',[['deleteCartItem',['$event']]]]]}}" class="{{['delBtn','text-'+themeColor.name]}}" bindtap="__e">删除</view></block><block wx:if="{{$root.g3>0}}"><view data-event-opts="{{[['tap',[['clearCart']]]]}}" class="{{['delBtn','text-'+themeColor.name]}}" bindtap="__e">清空</view></block><view class="settlement"><view class="sum">合计:<view class="money">{{moneySymbol+sumPrice}}</view></view><view data-event-opts="{{[['tap',[['createOrder',['$event']]]]]}}" class="{{['btn','bg-'+themeColor.name]}}" bindtap="__e">{{"结算("+$root.g4+")"}}</view></view></view></block><block wx:if="{{specClass==='show'}}"><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['hideSpec',['$event']]]]]}}" class="popup spec show" catchtouchmove="__e" bindtap="__e"><view data-event-opts="{{[['tap',[['hideSpec',['$event']]]]]}}" class="mask" bindtap="__e"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer" catchtap="__e"><rf-attr-content vue-id="1775f8c0-1" isSelectedNum="{{false}}" product="{{productDetail}}" data-event-opts="{{[['^toggle',[['toggleSpec']]]]}}" bind:toggle="__e" bind:__l="__l"></rf-attr-content></view></view></block><rf-loading vue-id="1775f8c0-2" isFullScreen="{{true}}" active="{{loading}}" bind:__l="__l"></rf-loading></view>